"use strict";(self["webpackChunkeditor"]=self["webpackChunkeditor"]||[]).push([[665],{6435:function(e,l,i){i.d(l,{Z:function(){return j}});var a=i(3396),v=i(7139);const u=e=>((0,a.dD)("data-v-46b28abf"),e=e(),(0,a.Cn)(),e),t={key:0,class:"comm-dialog"},s=u((()=>(0,a._)("div",{class:"back"},null,-1))),b={class:"content"},o={class:"top-title"},n={class:"comm-sialog-body"},c={class:"footer"};function f(e,l,i,u,f,g){return f.visibleOne?((0,a.wg)(),(0,a.iD)("div",t,[s,(0,a._)("div",b,[(0,a._)("div",o,[(0,a._)("div",null,(0,v.zw)(i.dialogTitle),1),(0,a._)("i",{onClick:l[0]||(l[0]=(...e)=>g.close&&g.close(...e))},"x")]),(0,a._)("div",n,[(0,a.WI)(e.$slots,"body",{},void 0,!0)]),(0,a._)("div",c,[(0,a.WI)(e.$slots,"footer",{},void 0,!0)])])])):(0,a.kq)("",!0)}var g={props:{visible:{default:!1,type:Boolean},dialogTitle:{default:"",type:String}},data(){return{visibleOne:this.visible}},created(){},watch:{visible(e){this.visibleOne=e}},methods:{close(){this.visibleOne=!1,this.$emit("update:visible",!1)}}},r=i(89);const d=(0,r.Z)(g,[["render",f],["__scopeId","data-v-46b28abf"]]);var j=d},8665:function(e,l,i){i.r(l),i.d(l,{default:function(){return y}});var a=i(3396),v=i(7139);const u=e=>((0,a.dD)("data-v-8c56339e"),e=e(),(0,a.Cn)(),e),t=u((()=>(0,a._)("h1",null,"消消乐",-1))),s={class:"xiaoxiaole flex"},b={class:"game-main"},o=["onClick"],n={key:0},c={class:"control"},f={class:"m-t-10"},g={class:"flex button-list m-t-10"},r={class:"flex button-list"},d={class:"game"},j=["onClick"];function k(e,l,i,u,k,h){const w=(0,a.up)("el-button"),p=(0,a.up)("dialog-vue");return(0,a.wg)(),(0,a.iD)("div",null,[t,(0,a._)("div",s,[(0,a._)("div",b,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.boxs,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"game",key:l},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e,((e,l)=>((0,a.wg)(),(0,a.iD)("div",{class:"game-div",key:l,onClick:l=>u.clickItem(e),style:(0,v.j5)({background:e.click||e.bei?"grey":e.bg})},[e.bei?((0,a.wg)(),(0,a.iD)("span",n,"背面")):(0,a.kq)("",!0)],12,o)))),128))])))),128))]),(0,a._)("div",c,[(0,a._)("div",f,"关卡:"+(0,v.zw)(u.level),1),(0,a._)("div",g,[(0,a.Wm)(w,{onClick:l[0]||(l[0]=e=>u.init())},{default:(0,a.w5)((()=>[(0,a.Uk)("重置")])),_:1}),(0,a.Wm)(w,{onClick:l[1]||(l[1]=e=>u.visible2=!0),class:"m-l-10"},{default:(0,a.w5)((()=>[(0,a.Uk)("选关")])),_:1})])])]),(0,a.Wm)(p,{dialogTitle:"提示",visible:u.visible,"onUpdate:visible":l[2]||(l[2]=e=>u.visible=e)},{body:(0,a.w5)((()=>[(0,a.Uk)((0,v.zw)(u.tip),1)])),footer:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a.Wm)(w,{onClick:u.init},{default:(0,a.w5)((()=>[(0,a.Uk)("重新开始")])),_:1},8,["onClick"]),u.level<=4?((0,a.wg)(),(0,a.j4)(w,{key:0,onClick:u.next},{default:(0,a.w5)((()=>[(0,a.Uk)("下一关")])),_:1},8,["onClick"])):(0,a.kq)("",!0)])])),_:1},8,["visible"]),(0,a.Wm)(p,{dialogTitle:"选关",visible:u.visible2,"onUpdate:visible":l[3]||(l[3]=e=>u.visible2=e)},{body:(0,a.w5)((()=>[(0,a._)("div",d,[((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)(["连线消除","翻牌消除","交换消除"],((e,l)=>(0,a._)("div",{class:"game-div",onClick:e=>{u.level=l+1,u.init(),u.visible2=!1},style:{width:"100px"},key:l},(0,v.zw)(e),9,j))),64))])])),_:1},8,["visible"])])}i(7658);var h=i(4870),w=i(6435),p={components:{dialogVue:w.Z},setup(){const e=(0,h.iH)(10),l=(0,h.iH)(10),i=(0,h.iH)(1),a=(0,h.iH)([[{i:0,j:0,bg:"",click:!1,bei:!1}]]),v=(0,h.iH)([{i:0,j:0,bg:"",click:!1,bei:!1}]),u=(0,h.iH)(""),t=(0,h.iH)(!1),s=(0,h.iH)(!1);function b(){v.value=[],a.value=[],t.value=!1,s.value=!1;let u=["red","blue","yellow","pink","#53239d","#eb9d23","#23d7eb","#59733d","#7aff00","brown"];const b={};for(let v=0;v<e.value;v++){a.value.push([]);for(let e=0;e<l.value;e++){let l=u[Math.floor(Math.random()*u.length)];b[l]=b[l]||0,b[l]++,b[l]>=10&&(u=u.filter((e=>e!==l))),a.value[v].push({i:v,j:e,bg:l,click:!1,bei:2===i.value})}}}function o(){i<3&&i.value++,b()}function n(l,i=new Set,v=0){return i.has(l.i*e.value+l.j)||(i.add(l.i*e.value+l.j),v++,console.log(l,i,v,"box,set time",l.bg),l.bg&&(a.value[l.i+1]?.[l.j].bg!==l.bg||i.has((l.i+1)*e.value+l.j)||n(a.value[l.i+1]?.[l.j],i,v),a.value[l.i]?.[l.j+1]?.bg!==l.bg||i.has(l.i*e.value+l.j+1)||n(a.value[l.i]?.[l.j+1],i,v),a.value[l.i-1]?.[l.j]?.bg!==l.bg||i.has((l.i-1)*e.value+l.j)||n(a.value[l.i+-1]?.[l.j],i,v),a.value[l.i]?.[l.j-1]?.bg!==l.bg||i.has(l.i*e.value+l.j-1)||n(a.value[l.i]?.[l.j-1],i,v))),{set:i,time:v}}function c(s){if(3===i.value&&s.bg){if(v.value.length<=0)a.value[s.i][s.j].click=!0,v.value.push(a.value[s.i][s.j]);else{if(s.i===v.value[0].i&&s.j===v.value[0].j)return v.value=[],void(a.value[s.i][s.j].click=!1);if(v.value[0].bg===s.bg)return a.value[s.i][s.j].click=!1,a.value[v.value[0].i][v.value[0].j].click=!1,void(v.value=[]);let i=a.value[s.i][s.j].bg;a.value[s.i][s.j].bg=v.value[0].bg,a.value[v.value[0].i][v.value[0].j].bg=i,a.value[v.value[0].i][v.value[0].j].click=!1;const u=n(s),t=n(v.value[0]);if(u.set.size>=3&&u.set.forEach((l=>{const i=Math.floor(l/e.value),v=l%e.value;a.value[i][v].bg=""})),t.set.size>=3&&t.set.forEach((l=>{const i=Math.floor(l/e.value),v=l%e.value;a.value[i][v].bg=""})),u.set.size<3&&t.set.size<3){let e=a.value[s.i][s.j].bg;a.value[s.i][s.j].bg=v.value[0].bg,a.value[v.value[0].i][v.value[0].j].bg=e}else for(let v=e.value-1;v>=0;v--)for(let e=0;e<l.value;e++)if(""===a.value[v][e].bg)for(let l=v;l>=0;l--)if(""!==a.value[l][e].bg){a.value[v][e].bg=a.value[l][e].bg,a.value[l][e].bg="",l=-1;break}v.value=[]}let i=0;return a.value.map((e=>{e.map((e=>{""===e.bg&&i++}))})),void(i>=e.value*l.value&&(u.value="恭喜您赢得了比赛",t.value=!0))}if(2===i.value)return s.bei?(a.value[s.i][s.j].bei=!1,1===v.value.length?v.value[0].bg===s.bg?(v.value.push(a.value[s.i][s.j]),g()):(a.value[v.value[0].i][v.value[0].j].bei=!0,void(v.value=[a.value[s.i][s.j]])):(0===v.value.length||v.value.map((e=>{a.value[e.i][e.j].bei=!0})),void(v.value=[a.value[s.i][s.j]]))):void 0;if(s.bg)if(v.value.length<=0)a.value[s.i][s.j].click=!0,v.value.push(a.value[s.i][s.j]);else{if(s.i===v.value[0].i&&s.j===v.value[0].j)return v.value=[],void(a.value[s.i][s.j].click=!1);if(v.value[0].bg===s.bg)return a.value[s.i][s.j].click=!0,v.value.push(s),f();v.value.map((e=>{a.value[e.i][e.j].click=!1})),a.value[s.i][s.j].click=!0,v.value=[a.value[s.i][s.j]]}}function f(){if(v.value[0].bg===v.value[1].bg){if((v.value[0].i===v.value[1].i+1||v.value[0].i===v.value[1].i-1)&&v.value[0].j===v.value[1].j)return g();if(v.value[0].i===v.value[1].i&&(v.value[0].j===v.value[1].j+1||v.value[0].j===v.value[1].j-1))return g();let e=v.value[0].i,l=v.value[1].i,i=v.value[0].j,u=v.value[1].j;if(e<l){while(e!==l){if(""!==a.value[e+1][i].bg&&(e+1!==l||i!==u)){e=v.value[0].i;break}e++}if(e===l)if(i>u)while(i!==u){if(""!==a.value[e][i-1].bg&&(e!==l||i-1!==u)){i=v.value[0].j,e=v.value[0].i;break}i--}else if(i<u)while(i!==u){if(""!==a.value[e][i+1].bg&&(e!==l||i+1!==u)){i=v.value[0].j,e=v.value[0].i;break}i++}}if(e>l){while(e!==l){if(""!==a.value[e-1][i].bg&&(e-1!==l||i!==u)){e=v.value[0].i;break}e--}if(e===l)if(i>u)while(i!==u){if(""!==a.value[e][i-1].bg&&(e!==l||i-1!==u)){i=v.value[0].j,e=v.value[0].i;break}i--}else if(i<u)while(i!==u){if(""!==a.value[e][i+1].bg&&(e!==l||i+1!==u)){i=v.value[0].j,e=v.value[0].i;break}i++}}if(i>u){while(i!==u){if(""!==a.value[e][i-1].bg&&(e!==l||i-1!==u)){i=v.value[0].j;break}i--}if(i===u)if(e>l)while(e!==l){if(""!==a.value[e-1][i].bg&&(e-1!==l||i!==u)){e=v.value[0].i,i=v.value[0].j;break}e--}else if(e<l)while(e!==l){if(""!==a.value[e+1][i].bg&&(e+1!==l||i!==u)){e=v.value[0].i,i=v.value[0].j;break}e++}}if(i<u){while(i!==u){if(""!==a.value[e][i+1].bg&&(e!==l||i+1!==u)){i=v.value[0].j;break}i++}if(i===u)if(e>l)while(e!==l){if(""!==a.value[e-1][i].bg&&(e-1!==l||i!==u)){e=v.value[0].i,i=v.value[0].j;break}e--}else if(e<l)while(e!==l){if(a.value[e+1][i].bg&&(e+1!==l||i!==u)){e=v.value[0].i,i=v.value[0].j;break}e++}}if(e===l&&i===u)return g();if(e===l&&(i===u-1||i===u+1)||i===u&&(e===l-1||e===l+1))return g()}v.value.map((e=>{a.value[e.i][e.j].click=!1})),v.value=[]}function g(){v.value.map((e=>{a.value[e.i][e.j].click=!1,a.value[e.i][e.j].bg=""})),v.value=[];let i=0;a.value.map((e=>{e.map((e=>{""===e.bg&&i++}))})),i>=e.value*l.value&&(u.value="恭喜您赢得了比赛",t.value=!0)}return b(),{clickItem:c,boxs:a,init:b,row:e,col:l,visible:t,tip:u,next:o,visible2:s,level:i}}},m=i(89);const _=(0,m.Z)(p,[["render",k],["__scopeId","data-v-8c56339e"]]);var y=_}}]);
//# sourceMappingURL=665.e9be20e3.js.map