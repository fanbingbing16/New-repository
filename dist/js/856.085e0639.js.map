{"version":3,"file":"js/856.085e0639.js","mappings":"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","sources":["webpack://editor/./src/components/Tetris/index.vue","webpack://editor/./src/components/Tetris/ykdata.js","webpack://editor/./src/components/Tetris/index.vue?9b41","webpack://editor/./src/components/comm/dialog.vue","webpack://editor/./src/components/comm/dialog.vue?ffb6"],"sourcesContent":["<template>\r\n  <div class=\"game\">\r\n    <div class=\"game-div\">\r\n      <div class=\"game-min\">\r\n        <div class=\"row\" v-for=\"(row, i) in boxs\" :key=\"i\">\r\n          <p\r\n            class=\"element\"\r\n            v-for=\"(col, j) in row\"\r\n            :key=\"j\"\r\n            :style=\"{ background: col.bg }\"\r\n          ></p>\r\n        </div>\r\n      </div>\r\n      <!-- 小屏幕 -->\r\n      <div class=\"right-div\">\r\n        <div class=\"ass\">\r\n          <div class=\"row\" v-for=\"(row, i) in ass\" :key=\"i\">\r\n            <p\r\n              class=\"element\"\r\n              v-for=\"(col, j) in row\"\r\n              :key=\"j\"\r\n              :style=\"{ background: col.bg }\"\r\n            ></p>\r\n          </div>\r\n        </div>\r\n        <!-- 分数计算 -->\r\n        <div class=\"score-div\">\r\n          <div>\r\n            <p>\r\n              <span>得分:</span>&emsp;<span style=\"color: red\">{{\r\n                score\r\n              }}</span>\r\n            </p>\r\n          </div>\r\n\r\n          <el-button class=\"ztks\" @click=\"stopGame\">暂停/开始</el-button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 控制台 -->\r\n    <div class=\"control\">\r\n      <!-- <el-button @click=\"changeBox\">变换</el-button> -->\r\n      <!-- <div class=\"control-center\">\r\n        <el-button @click=\"moveLeft\">向左</el-button>\r\n        <el-button @click=\"moveRight\">向右</el-button>\r\n      </div>\r\n      <el-button @click=\"moveDown\">向下</el-button> -->\r\n      <p>说明：上下左右键控制游戏，左右健控制方块移动，下键加快下移的速度，上键变换</p>\r\n    </div>\r\n    <dialog-vue dialogTitle=\"提示\" v-model:visible=\"visible\">\r\n      <template v-slot:body>\r\n        {{ tip }}\r\n      </template>\r\n      <template v-slot:footer>\r\n        <el-button @click=\"init\">重新开始</el-button>\r\n      </template>\r\n    </dialog-vue>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { blockMod, transition } from \"./ykdata.js\";\r\nimport dialogVue from \"../comm/dialog.vue\";\r\nexport default {\r\n  components: {\r\n    dialogVue\r\n  },\r\n  data() {\r\n    return {\r\n      visible: false,\r\n      tip: '',\r\n      row: 20, //行\r\n      col: 10, //列\r\n      boxs: [[{ i: 0, j: 0, bg: '#eee' }]],//方块，记录方块的坐标和颜色\r\n      ass: [],//小屏幕的坐标和颜色\r\n      curType: 0,//现在的类型\r\n      boxSite: {},//现在方块的坐标和颜色\r\n      changeType: 1,\r\n      nextType: 0,//下一个类型,\r\n      score: 0,\r\n      level: 0,\r\n      times: 0,\r\n      inter: null,//定时器\r\n\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init()\r\nthis.keyDown()\r\n  },\r\n  onUnmounted(){\r\n    clearInterval(this.inter)\r\n    this.inter = null\r\n  },\r\n  methods: {\r\n    keyDown() {\r\n      document.onkeydown = (e) => {\r\n        //事件对象兼容\r\n        let e1 = e || event || window.event || arguments.callee.caller.arguments[0]\r\n        //键盘按键判断:左箭头-37;上箭头-38；右箭头-39;下箭头-40//左\r\n        if (e1 && e1.keyCode == 37) {// 按下左箭头\r\n          this.moveLeft()\r\n        } else if (e1 && e1.keyCode == 39) {// 按下右箭头\r\n          this.moveRight()\r\n        } else if (e1 && e1.keyCode === 38) {\r\n          this.changeBox()\r\n        } else if(e1&&e1.keyCode===40){\r\n          this.moveDown()\r\n        }\r\n      }\r\n    },\r\n    validCol() {\r\n      this.boxs = this.boxs.map((item, index) => {\r\n        let time = 0\r\n        item.map(element => {\r\n          if (element.bg === '#000') time++\r\n        })\r\n        //需要消除\r\n        if (time === item.length) {\r\n          item = item.map(element => {\r\n            element.bg = '#eee'\r\n            return element\r\n          })\r\n          this.score += item.length\r\n          // 消除后，这一行前面所有的黑色方块往下移\r\n          for (let i = index - 1; i >= 0; i--) {\r\n            for (let j = 0; j < this.col; j++) {\r\n              if (this.boxs[i][j].bg === '#000') {\r\n                this.boxs[i][j].bg = '#eee'\r\n                this.boxs[i + 1][j].bg = '#000'\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return item\r\n      })\r\n\r\n    },\r\n    begin() {\r\n      if (this.inter) {\r\n        clearInterval(this.inter)\r\n      }\r\n      this.inter = setInterval(() => {\r\n        this.moveDown()\r\n      }, 300)\r\n    },\r\n    stopGame() {\r\n      if (this.inter) {\r\n        clearInterval(this.inter)\r\n        this.inter = null\r\n      } else {\r\n        this.begin()\r\n      }\r\n    },\r\n    moveDown() {\r\n      const hasErro = this.boxSite.site.some((box) => {\r\n        // 向下超出了边界，变成固定的方块\r\n        const temp = this.boxs[box[0] + 1]?.[box[1]]\r\n        if (!temp) {\r\n          return true\r\n        }\r\n\r\n        if (temp.bg !== '#eee' && temp.bg !== this.boxSite.color) {\r\n          //向下移的时候与已经固定的方块重合，也变成固定的方块\r\n          return true\r\n\r\n        }\r\n      })\r\n      if (hasErro) {\r\n        this.boxSite.site = this.boxSite.site.map((item) => {\r\n          this.boxs[item[0]][item[1]].bg = '#000'\r\n          return item\r\n        })\r\n        //判断是否满一行都是黑色的\r\n        this.validCol()\r\n        this.changeType = 1\r\n        this.curType = this.nextType\r\n        this.boxSite = blockMod()[this.curType]\r\n        clearInterval(this.inter)\r\n        //判断是否结束\r\n        const isEnd = this.boxSite.site.some(item => {\r\n          if (this.boxs[item[0]][item[1]].bg !== '#eee') {\r\n            return true\r\n          }\r\n        })\r\n\r\n        if (isEnd) {\r\n          this.tip = `游戏失败，得分${this.score}`\r\n          this.visible = true\r\n          return\r\n        }\r\n\r\n        this.randomNext()\r\n        this.begin()\r\n        return\r\n      }\r\n      this.boxSite.site = this.boxSite.site.map((item) => {\r\n        this.boxs[item[0]][item[1]].bg = '#eee'\r\n        item[0] = item[0] + 1\r\n        // item[1] = item[1] - 1\r\n        return item\r\n      })\r\n      this.boxSite.site = this.boxSite.site.map((item) => {\r\n        this.boxs[item[0]][item[1]].bg = this.boxSite.color\r\n        return item\r\n      })\r\n    },\r\n    changeAss() {\r\n      this.ass = []\r\n      for (let i = 0; i < 5; i++) {\r\n        this.ass.push([])\r\n        for (let j = 0; j < 5; j++) {\r\n          if (blockMod()[this.nextType].site.some(item => {\r\n            if (item[0] + 1 === i && item[1] - 3 === j) {\r\n              //方块\r\n              this.ass[i].push({ x: i, y: j, bg: blockMod()[this.nextType].color })\r\n\r\n              return true\r\n            }\r\n          })) continue;\r\n          this.ass[i].push({ x: i, y: j, bg: '#eee' })\r\n        }\r\n      }\r\n    },\r\n    init() {\r\n      this.score = 0\r\n      this.visible = false\r\n      this.times = 0\r\n      this.level = 0\r\n      this.changeType = 1\r\n      if (this.inter) {\r\n        clearInterval()\r\n      }\r\n      this.randomNext()\r\n      this.curType = this.nextType\r\n      this.randomNext()\r\n      this.boxs = []\r\n      this.boxSite = blockMod()[this.curType]\r\n      for (let i = 0; i < this.row; i++) {\r\n        this.boxs.push([])\r\n        for (let j = 0; j < this.col; j++) {\r\n          if (this.boxSite.site.some(item => {\r\n            if (item[0] === i && item[1] === j) {\r\n              //方块\r\n              this.boxs[i].push({ x: i, y: j, bg: this.boxSite.color })\r\n\r\n              return true\r\n            }\r\n          })) continue;\r\n          this.boxs[i].push({ x: i, y: j, bg: '#eee' })\r\n        }\r\n      }\r\n      this.begin()\r\n\r\n    },\r\n    randomNext() {\r\n      this.nextType = Math.floor(Math.random() * 7)\r\n      this.changeAss()\r\n    },\r\n    moveLeft() {\r\n      const hasErro = this.boxSite.site.some((box) => {\r\n        // 左移超出了边界，结束\r\n        const temp = this.boxs[box[0]]?.[box[1] - 1]\r\n        if (!temp) {\r\n          return true\r\n        }\r\n\r\n        if (temp.bg !== '#eee' && temp.bg !== this.boxSite.color) {\r\n          //左移的时候与已经固定的方块重合，也就需要结束了\r\n          return true\r\n\r\n        }\r\n      })\r\n      if (hasErro) return\r\n      this.boxSite.site = this.boxSite.site.map((item) => {\r\n        this.boxs[item[0]][item[1]].bg = '#eee'\r\n        // item[0] = item[0]\r\n        item[1] = item[1] - 1\r\n        return item\r\n      })\r\n      this.boxSite.site = this.boxSite.site.map((item) => {\r\n        this.boxs[item[0]][item[1]].bg = this.boxSite.color\r\n        return item\r\n      })\r\n    },\r\n    moveRight() {\r\n      const hasErro = this.boxSite.site.some((box) => {\r\n        // 移超出了边界，结束\r\n        const temp = this.boxs[box[0]]?.[box[1] + 1]\r\n        if (!temp) {\r\n          return true\r\n        }\r\n\r\n        if (temp.bg !== '#eee' && temp.bg !== this.boxSite.color) {\r\n          //移的时候与已经固定的方块重合，也就需要结束了\r\n          return true\r\n\r\n        }\r\n      })\r\n      if (hasErro) return\r\n      this.boxSite.site = this.boxSite.site.map((item) => {\r\n        this.boxs[item[0]][item[1]].bg = '#eee'\r\n        // item[0] = item[0]\r\n        item[1] = item[1] + 1\r\n        return item\r\n      })\r\n      this.boxSite.site = this.boxSite.site.map((item) => {\r\n        this.boxs[item[0]][item[1]].bg = this.boxSite.color\r\n        return item\r\n      })\r\n    },\r\n    changeBox() {\r\n      const hasErro = this.boxSite.site.some((box, index) => {\r\n        // 变换超出了边界，结束变换\r\n        const temp = this.boxs[box[0] + transition[this.curType][index].x * this.changeType]?.[box[1] + transition[this.curType][index].y * this.changeType]\r\n        if (!temp) {\r\n          return true\r\n        }\r\n\r\n        if (temp.bg !== '#eee' && temp.bg !== this.boxSite.color) {\r\n          //变换的时候与已经固定的方块重合，也就需要结束变换了         \r\n\r\n          return true\r\n\r\n        }\r\n      })\r\n      if (hasErro) return\r\n      this.boxSite.site = this.boxSite.site.map((item, index) => {\r\n\r\n        this.boxs[item[0]][item[1]].bg = '#eee'\r\n        item[0] = item[0] + transition[this.curType][index].x * this.changeType\r\n        item[1] = item[1] + transition[this.curType][index].y * this.changeType\r\n        return item\r\n      })\r\n      this.boxSite.site = this.boxSite.site.map((item) => {\r\n        this.boxs[item[0]][item[1]].bg = this.boxSite.color\r\n        return item\r\n      })\r\n      this.changeType = -this.changeType\r\n\r\n    }\r\n  },\r\n};\r\n</script>\r\n \r\n<style lang='scss' scoped>\r\n.game {\r\n  .game-div {\r\n    display: flex;\r\n    .game-min {\r\n      .row {\r\n        display: flex;\r\n        padding-top: 2px;\r\n        .element {\r\n          width: 20px;\r\n          height: 20px;\r\n          padding: 0;\r\n          margin: 0 2px 0 0;\r\n        }\r\n      }\r\n    }\r\n    .right-div {\r\n      padding-left: 20px;\r\n      .ass {\r\n        .row {\r\n          display: flex;\r\n          padding-top: 2px;\r\n          .element {\r\n            width: 20px;\r\n            height: 20px;\r\n            padding: 0;\r\n            margin: 0 2px 0 0;\r\n          }\r\n        }\r\n      }\r\n      .score-div {\r\n        div {\r\n          height: 20px;\r\n          line-height: 20px;\r\n        }\r\n        .ztks {\r\n          width: 100px;\r\n          height: 40px;\r\n          margin-bottom: 10px;\r\n          background-color: #1689e7;\r\n          text-align: center;\r\n          line-height: 40px;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .control {\r\n    width: 220px;\r\n    ::v-deep .el-button {\r\n      width: 220px;\r\n      height: 40px;\r\n      text-align: center;\r\n      line-height: 40px;\r\n      background-color: #1689e7;\r\n      margin-bottom: 20px;\r\n      color: #fff;\r\n    }\r\n    .control-center {\r\n      align-items: center;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin-bottom: 20px;\r\n      ::v-deep .el-button {\r\n        width: 90px;\r\n        height: 40px;\r\n        text-align: center;\r\n        line-height: 40px;\r\n        background-color: #1689e7;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","//颜色\r\nexport const color = [\r\n    '#2B7AF5', '#2B9DF5', '#79CFFF', '#1B67DD', '#4F94FF', '#2180F2', '#3FD0FF',\r\n];\r\n\r\n//7种方块元素\r\nexport const blockMod = () => {\r\n  let a = {\r\n    site: [[0, 4], [0, 5], [0, 6], [0, 7]],\r\n    color: color[0],\r\n  };\r\n  let b = {\r\n    site: [[0, 4], [0, 5], [1, 4], [1, 5]],\r\n    color: color[1],\r\n  };\r\n  let c = {\r\n    site: [[0, 5], [1, 5], [2, 4], [2, 5]],\r\n    color: color[2],\r\n  };\r\n  let d = {\r\n    site: [[0, 4], [1, 4], [2, 4], [2, 5]],\r\n    color: color[3],\r\n  };\r\n  let e = {\r\n    site: [[0, 5], [1, 4], [1, 5], [1, 6]],\r\n    color: color[4],\r\n  };\r\n  let f = {\r\n    site: [[0, 5], [0, 6], [1, 4], [1, 5]],\r\n    color: color[5],\r\n  };\r\n  let g = {\r\n    site: [[0, 4], [0, 5], [1, 5], [1, 6]],\r\n    color: color[6],\r\n  };\r\n  return ([a, b, c, d, e, f, g]);\r\n};\r\n\r\n//旋转规则\r\nexport const transition = [\r\n  // [[0, 0], [0, 1], [0, 2], [0, 3]]\r\n  // [[0,0],[1,0],[2,0],[3,0]]\r\n  [\r\n    {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: 1, y: -1,\r\n    }, {\r\n      x: 2, y: -2,\r\n    }, {\r\n      x: 3, y: -3,\r\n    }\r\n  ],\r\n  // [[0, 0], [0, 1], [1, 0], [1, 1]]\r\n  // [[0, 0], [0, 1], [1, 0], [1, 1]]\r\n  [\r\n    {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: 0, y: 0,\r\n    }\r\n  ],\r\n  // [[0, 1], [1, 1], [2, 0], [2, 1]]\r\n  // [[0,2],[1,0],[1, 1],[1,2]]\r\n  [\r\n    {\r\n      x: 0, y: 1,\r\n    }, {\r\n      x: 0, y: -1,\r\n    }, {\r\n      x: -1, y: 1,\r\n    }, {\r\n      x: -1, y: 1,\r\n    }\r\n  ],\r\n  //  [[0, 0], [1, 0], [2, 0], [2, 1]]\r\n  // [[0,0],[1,0],[1,1],[1,2]]\r\n  [\r\n    {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: -1, y: 1,\r\n    }, {\r\n      x: -1, y: 1,\r\n    }\r\n  ],\r\n  // [[0, 1], [1, 0], [1, 1], [1, 2]]\r\n  // [[0,1],[1,0],[1,1],[2,1]]\r\n  [\r\n    {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: 1, y: -1,\r\n    }\r\n  ],\r\n  // [[0, 1], [0, 2], [1, 0], [1, 1]]\r\n  // [[0,0],[1,0],[1,1],[2,1]]\r\n  [\r\n    {\r\n      x: 0, y: -1,\r\n    }, {\r\n      x: 1, y: -2,\r\n    }, {\r\n      x: 0, y: 1,\r\n    }, {\r\n      x: 1, y: 0,\r\n    }\r\n  ],\r\n  // [[0, 0], [0, 1], [1, 1], [1, 2]]\r\n  // [[0,1],[1,0],[1,1],[2,0]]\r\n  [\r\n    {\r\n      x: 0, y: 1,\r\n    }, {\r\n      x: 1, y: -1,\r\n    }, {\r\n      x: 0, y: 0,\r\n    }, {\r\n      x: 1, y: -2,\r\n    }\r\n  ],\r\n]","import { render } from \"./index.vue?vue&type=template&id=20695162&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=20695162&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-20695162\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"comm-dialog\" v-if=\"visibleOne\">\r\n    <div class=\"back\"></div>\r\n    <div class=\"content\">\r\n      <div class=\"top-title\">\r\n        <div>{{ dialogTitle }}</div>\r\n        <i @click=\"close\">x</i>\r\n      </div>\r\n      <div class=\"comm-sialog-body\">\r\n              <slot name=\"body\"></slot>\r\n\r\n      </div>\r\n      <div class=\"footer \">\r\n        <slot name=\"footer\"></slot>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nexport default {\r\n  props: {\r\n    visible: {\r\n      default: false,\r\n      type: Boolean\r\n    },\r\n    dialogTitle: {\r\n      default: '',\r\n      type: String\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      visibleOne: this.visible,\r\n    }\r\n  },\r\n  created() {\r\n\r\n  },\r\n  watch: {\r\n    visible(newVal) {\r\n      this.visibleOne = newVal\r\n    }\r\n  },\r\n  methods: {\r\n    close(){\r\n      this.visibleOne = false;\r\n      this.$emit('update:visible', false); \r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.comm-dialog {\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  .back {\r\n    position: fixed;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.3);\r\n    top: 0;\r\n    left: 0;\r\n    z-index: 999;\r\n  }\r\n  .content {\r\n    z-index: 1000;\r\n    width: 300px;\r\n    padding: 30px;\r\n    border-radius: 10px;\r\n    box-shadow: 0px 0px 8px #797979;\r\n    left: calc(50% - 190px);\r\n    position: fixed;\r\n    top: 30%;\r\n    background: white;\r\n\r\n    text-align: center;\r\n    .comm-sialog-body{\r\n      margin-top: 20px;\r\n    }\r\n    .top-title {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      i {\r\n        font-size: 18px;\r\n        cursor: pointer;\r\n      }\r\n    }\r\n    .flex {\r\n      width: 100%;\r\n    }\r\n   \r\n    .footer {\r\n      width: 100%;\r\n      margin-top: 20px;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./dialog.vue?vue&type=template&id=46b28abf&scoped=true\"\nimport script from \"./dialog.vue?vue&type=script&lang=js\"\nexport * from \"./dialog.vue?vue&type=script&lang=js\"\n\nimport \"./dialog.vue?vue&type=style&index=0&id=46b28abf&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-46b28abf\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","boxs","row","i","key","col","j","_normalizeStyle","background","bg","_hoisted_4","_hoisted_5","ass","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","score","_createVNode","_component_el_button","onClick","$options","stopGame","_hoisted_9","_component_dialog_vue","dialogTitle","visible","$event","body","_withCtx","tip","footer","init","color","blockMod","a","site","b","c","d","e","f","g","transition","x","y","components","dialogVue","data","curType","boxSite","changeType","nextType","level","times","inter","mounted","this","keyDown","onUnmounted","clearInterval","methods","document","onkeydown","e1","event","window","arguments","callee","caller","keyCode","moveLeft","moveRight","changeBox","moveDown","validCol","map","item","index","time","element","length","begin","setInterval","hasErro","some","box","temp","isEnd","randomNext","changeAss","push","Math","floor","random","__exports__","render","visibleOne","$props","_cache","args","close","_renderSlot","_ctx","$slots","undefined","props","default","type","Boolean","String","created","watch","newVal","$emit"],"sourceRoot":""}